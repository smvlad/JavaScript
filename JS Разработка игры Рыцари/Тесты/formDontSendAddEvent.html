<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta charset="utf-8">
</head>
<body>
	<form action="p2.html" id="fid">       
		<input type="text" name="txt">
		<input type="submit" onclick = "fbtn()" formaction="p1.html" name="">
		<!-- если вставить в кнопку formaction="p1.html" , то при запуске локально брузером вначале отрабатывает весь диалог (действие формы), 
			потом переходит на страничку - т.е., отрабатывает formaction   Хотя вроде должна была ПЕРОПРЕДЕЛИТЬ действие формы. 
			
			formaction="p1.html" после e.preventDefault(); не выполняется!!!               
			
			 -->
	</form>
	
	<h1 id="mh1">Форма обновлена</h1>

	<script>
		let ref=document.getElementById('fid');
		ref.addEventListener('submit', refresh);     // добавляем собственный обработчик события submit. Он выполнится первым, 
													 //и следовательно в нем можно отменить выполнение системного - 	e.preventDefault();  e - событие, которое передается автоматически.
		function fbtn() {
			let refh = document.getElementById('mh1');
			refh.innerHTML="Кнопка была нажата, форма не обновлена!" 
		}
		function refresh(e) {
			e.preventDefault();				
			// Если 



			formaction="p1.html" после e.preventDefault(); не выполняется!!!  
			if (confirm("Обновить форму")) {
				alert("Ответ обновлять");
				ref.submit();
			}
			else {
				alert("Ответ не обновлять");
			}
		}
	</script>


</body>
</html>